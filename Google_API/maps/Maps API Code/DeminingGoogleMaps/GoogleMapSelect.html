<!DOCTYPE html>
 
<html lang="en">
<head>
    <title>Pick Points on map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
            height: 100%;
        }
        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>

    <script src="jquery-3.3.1.js" type=”text/javascript”></script>
</head>
<body>

<div id="map"></div>
<script>
    function initMaps() {
        var points = Array();

        var map = new google.maps.Map(document.getElementById("map"), {
            center: {
                lat: 42.27548140758946,
                lng: -71.80486849867248
            },
            zoom: 18,
            mapTypeId: 'hybrid'
        });

        var marker = new google.maps.Marker({
            position: {
                lat: 42.27548140758946,
                lng: -71.80486849867248
            },
            map: map,
            draggable: true
        });

        google.maps.event.addListener(marker, 'dragend', function(){
            console.log(marker.getPosition().lat());
            console.log(marker.getPosition().lng());
            position = {lat: parseFloat(marker.getPosition().lat()), lng: parseFloat(marker.getPosition().lng())};
            points.push(position);
            console.log(points);
            console.log("----------------------");});

        google.maps.event.addListener(map, 'rightclick', function() {
            var searchArea = new google.maps.Polygon({
                paths: points,
                strokeColor: '#FF0000',
                strokeOpacity: 0.8,
                strokeWeight: 2,
                fillColor: '#FF0000',
                fillOpacity: 0.35,
                draggable: false,
                editable: true
            });

            searchArea.setMap(map);

            marker.setMap(null);

            google.maps.event.addListener(searchArea.getPath(), 'insert_at', function(){
                points = [];
                var vertices = searchArea.getPath();
                var contentString = '-------------------------------------------';
                // Iterate over the vertices.
                for (var i =0; i < vertices.getLength(); i++) {
                  var xy = vertices.getAt(i);
                  contentString += 'Coordinate ' + i + ':' + ' lat: ' + xy.lat() + ',' + ' lng: ' + xy.lng() + '--------';
                  position = {lat: parseFloat(xy.lat()), lng: parseFloat(xy.lng())};
                  points.push(position);
                }
                console.log(contentString);
                console.log(points);
                console.log('----------------------')
            });

            google.maps.event.addListener(searchArea.getPath(), 'set_at', function(){
                points = [];
                var vertices = searchArea.getPath();
                var contentString = '-------------------------------------------';
                // Iterate over the vertices.
                for (var i =0; i < vertices.getLength(); i++) {
                  var xy = vertices.getAt(i);
                  contentString += 'Coordinate ' + i + ':' + ' lat: ' + xy.lat() + ',' + ' lng: ' + xy.lng() + '--------';
                  position = {lat: parseFloat(xy.lat()), lng: parseFloat(xy.lng())};
                  points.push(position);
                }
                console.log(contentString);
                console.log(points);
                console.log('----------------------')
            });

            google.maps.event.addListener(searchArea.getPath(), 'remove_at', function(){
                points = [];
                var vertices = searchArea.getPath();
                var contentString = '-------------------------------------------';
                // Iterate over the vertices.
                for (var i =0; i < vertices.getLength(); i++) {
                  var xy = vertices.getAt(i);
                  contentString += 'Coordinate ' + i + ':' + ' lat: ' + xy.lat() + ',' + ' lng: ' + xy.lng() + '--------';
                  position = {lat: parseFloat(xy.lat()), lng: parseFloat(xy.lng())};
                  points.push(position);
                }
                console.log(contentString);
                console.log(points);
                console.log('----------------------')
            });

        });}

    window.onload = function () {
        initMaps();
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbCT8V4AwYIiXpPjCEt3AAH_h9WJzRFws&callback=initMaps"
        async defer></script>
</body>
</html>
